<section id="vendors">

    <form name="vendorForm" ng-submit="vm.saveVendor()">

      <header class="page-header edit-vendors-header">
          <h1 ng-show="vm.newVendor">New Vendor</h1>
          <div>
              <label for="vendorName">Vendor Name</label>
              <view-edit-text-field ng-model="vm.vendor.name" edit-mode="vm.editable"><h1>{{ vm.vendor.name }}</h1></view-edit-text-field>
          </div>
          <div id="vendor-edit" class="btn btn-default" ng-show="!vm.newVendor" ng-click="vm.toggleEditable()">{{ vm.editable ? 'Disable Editing' : 'Edit' }}</div>
      </header>
      <section class="content">
      <fieldset>
        <div class="column">
            <label for="vendorWebsite">Vendor Website</label>
            <view-edit-text-field ng-model="vm.vendor.websiteUrl" edit-mode="vm.editable"><a ng-href="{{ vm.vendor.websiteURL }}">{{ vm.vendor.websiteUrl }}</a></view-edit-text-field>
            <label for="vendorStatus">Vendor Status</label>
            <view-edit-radios radio-group-name="isActive" items="vm.statusOptions" ng-model="vm.vendor.isActive" edit-mode="vm.editable">{{ vm.vendor.isActive ? 'Active' : 'Inactive' }}</view-edit-radios>
            <label for="vendorAdminModule">Admin Module</label>
            <view-edit-text-area name="vendorAdminModule" ng-model="vm.vendor.adminModule" edit-mode="vm.editable">{{ vm.vendor.adminModule }}</view-edit-text-area>
        </div>
        <div class="column">
            <label for="vendorComments">Comments</label>
            <view-edit-text-area ng-model="vm.vendor.comments" edit-mode="vm.editable">{{ vm.vendor.comments }}</view-edit-text-area>
        </div>
      </fieldset>
      <fieldset>
        <h2>Contacts</h2>

        <h3>Billing</h3>
        <div ng-repeat="contact in vm.vendor.contacts | filter:{ contactType: 'Billing' }">
            <view-edit-contact contact="contact" edit-mode="vm.editable"></view-edit-contact>
            <a ng-show="vm.editable" ng-click="vm.deleteContact(contact)">Delete</a>
        </div>
        <a id="add-billing-contact" ng-show="vm.editable" ng-click="vm.addContact('Billing')">Add Contact</a>

        <h3>Sales</h3>
        <div ng-repeat="contact in vm.vendor.contacts | filter:{ contactType: 'Sales' }">
            <view-edit-contact contact="contact" edit-mode="vm.editable"></view-edit-contact>
            <a ng-show="vm.editable" ng-click="vm.deleteContact(contact)">Delete</a>
        </div>
        <a id="add-sales-contact" ng-show="vm.editable" ng-click="vm.addContact('Sales')">Add Contact</a>

        <h3>Technical</h3>
        <div ng-repeat="contact in vm.vendor.contacts | filter:{ contactType: 'Technical' }">
            <view-edit-contact contact="contact" edit-mode="vm.editable"></view-edit-contact>
            <a ng-show="vm.editable" ng-click="vm.deleteContact(contact)">Delete</a>
        </div>
        <a id="add-technical-contact" ng-show="vm.editable" ng-click="vm.addContact('Technical')">Add Contact</a>

        <footer ng-show="vm.editable">
            <a href="/vendor">Cancel</a>
            <input ng-disabled="!vm.editable" id="vendor-submit" type="submit">
        </footer>
      </fieldset>
      </section>
    </form>


    <hr><pre>{{ vm.vendor }}</pre>
</section>
